# SPECIAL VIEW
title: Guests
path: guests
type: custom:grid-layout
theme: ios-dark-mode
background: center / cover no-repeat url("/local/ui/bg-gradient3.png") fixed
layout: 
  grid-template-columns: 24% 1fr
  grid-template-areas: '"sidebar main"'
  grid-template-rows: min-content
  padding: 0px
  margin: 0px
cards:
  # SIDEBAR CONTENTS
  - type: custom:decluttering-card
    template: tablet_sidebar
    variables:
      - active_link: "guests"

  # MAIN VIEW CONTENT
  - type: custom:mod-card
    card_mod:
      # Add 5% padding on both sides of the main content
      style: |
        ha-card {
          padding: 0px 5vw;
        }
    card:
      type: vertical-stack
      cards:
      # 1ST MAIN ROW
      - type: horizontal-stack
        cards:
        # GUEST ROOM CLIMATE CONTROLS
        - type: vertical-stack
          cards:
          # Title
          - type: custom:button-card
            template: room_title
            name: Guest room
          - type: custom:stack-in-card
            mode: vertical
            cards:
            - type: horizontal-stack
              cards:
              - type: tile
                entity: input_boolean.guest_mode_enable
                color: purple
                name: Guests staying
                hide_state: true
                card_mod:
                  style: |
                    ha-card {
                      background-color: var(--nested-card-background);
                    }
              - type: tile
                entity: schedule.heating_sleep_guest
                color: purple
                name: Sleep schedule
                hide_state: false
                tap_action:
                  action: more-info
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background-color: var(--nested-card-background);
                    }
            - type: horizontal-stack
              cards:
              - type: tile
                entity: input_number.temperature_sleep_guest
                hide_state: true
                icon: mdi:thermometer
                name: Sleep temperature
                features:
                  - type: numeric-input
                    style: buttons
                card_mod:
                  style: |
                    ha-card {
                      background-color: var(--nested-card-background);
                    }
              - type: tile
                entity: input_number.temperature_away_guest
                hide_state: true
                icon: mdi:thermometer
                name: Away temperature
                features:
                  - type: numeric-input
                    style: buttons
                card_mod:
                  style: |
                    ha-card {
                      background-color: var(--nested-card-background);
                    }
        # WI-FI INFORMATION
        - type: vertical-stack
          cards:
          - type: custom:button-card
            template: room_title
            name: Wi-Fi
          - type: horizontal-stack
            cards:
            - type: vertical-stack
              cards:
              - type: custom:mushroom-template-card
                primary: Gullburet-Gjest
                secondary: ''
                icon: mdi:wifi
                icon_color: primary
              - type: custom:mushroom-template-card
                primary: >
                  {% if is_state('input_boolean.guest_show_wifi', 'on') %}
                    {{ states('input_text.guest_wifi_password') }}
                  {% else %}
                    {{ "•••••••••••••" }} 
                  {% endif %}
                secondary: ''
                icon: mdi:key
                entity: input_boolean.guest_show_wifi
                icon_color: primary
              - type: custom:button-card
                template: section_text
                name: A "Unifi" popup will appear. Click Login, no password required.
            - type: custom:button-card
              entity: input_boolean.guest_show_wifi
              template: wifi_qr_code
      # 2ND MAIN ROW
      - type: horizontal-stack
        cards:
        - type: vertical-stack
          cards:
          # Title
          - type: custom:button-card
            template: room_title
            name: Nearby public transport
          - type: custom:button-card
            template: section_text
            name: Swipe to see different stops. House icon is this apartment.
          - type: custom:button-card
            template: section_text
            name: "Showing: Sandaker Senter (tram), Storo (subway/tram/bus), Torshov (bus/tram) and Haarklous Plass (bus)."
          - type: map
            entities:
              - entity: sensor.ruter_sandaker_senter_platform_11752
                name: SandakerS.
              - entity: sensor.ruter_torshov_platform_11734
                name: Torshov
              - entity: sensor.ruter_haarklous_plass_platform_11766
                name: Haarklous
              - entity: zone.home
                label_mode: state
            default_zoom: 15
            aspect_ratio: 68%
            fit_zones: true
        - type: custom:button-card
          color_type: blank-card