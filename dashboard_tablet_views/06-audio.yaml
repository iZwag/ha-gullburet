title: Audio
path: audio
background: center / cover no-repeat url("/local/ui/bg-gradient3.png") fixed
type: "custom:ha-dashboard"
theme: ios-dark-mode
badges: []
usePanel: true
sidebar:
  screenMinWidth: 828
  buttons: []
  stickyCards:
    - type: picture-elements
      image: "/local/ui/clck-background.png"
      elements:
        - type: state-label
          entity: sensor.time
          hold_action:
            action: none
          style:
            color: var(--primary-text-color)
            font-size: 5.41vw
            font-weight: 200
            left: 16%
            letter-spacing: "-0.05vw"
            max-width: 1px
            top: 37.5%
            pointer-events: none
          tap_action:
            action: none
        - type: state-label
          entity: sensor.date_string
          hold_action:
            action: none
          style:
            color: var(--secondary-text-color)
            font-size: 1.3vw
            font-weight: 300
            left: 31.5%
            letter-spacing: "-0.05vw"
            text-align: left
            top: 65%
            width: 30%
            pointer-events: none
          tap_action:
            action: none
  cards:
    - type: custom:stack-in-card
      mode: vertical
      keep:
        border_radius: true
        margin: true
        box_shadow: true
        background: true
      card_mod:
        style: |
          ha-card {
            padding: 0% 1% 0% 1%;
          }
      cards:
        - type: "custom:button-card"
          icon: mdi:home
          name: Dashboard
          template: navbar_button
          tap_action:
            action: navigate
            navigation_path: /dashboard-tablet/dashboard
        - type: "custom:button-card"
          icon: mdi:floor-plan
          name: Floorplan control
          template: navbar_button
          tap_action:
            action: navigate
            navigation_path: /dashboard-tablet/floorplan
        - type: "custom:button-card"
          icon: mdi:bed
          name: Bedtime & wake-up
          template: navbar_button
          tap_action:
            action: navigate
            navigation_path: /dashboard-tablet/sleep
        - type: "custom:button-card"
          icon: mdi:chart-bar
          name: Consumption
          template: navbar_button
          tap_action:
            action: navigate
            navigation_path: /dashboard-tablet/consumption
        - type: "custom:button-card"
          icon: mdi:star
          name: Special
          template: navbar_button
          tap_action:
            action: navigate
            navigation_path: /dashboard-tablet/special
        - type: "custom:button-card"
          icon: mdi:speaker
          name: Listen
          template: navbar_button
          variables:
            link_active: "true"
          tap_action:
            action: navigate
            navigation_path: /dashboard-tablet/audio
        # VERTICAL SPACER ELEMENT: ADJUST THE HEIGHT AS NEEDED
        - type: "custom:button-card"
          color_type: blank_card
          styles:
            card:
              - height: 25vh
        - type: custom:mushroom-chips-card
          alignment: center
          card_mod:
            style: |
              ha-card {
                --chip-background: rgba(25, 25, 25, 0.2);
                --primary-text-color: var(--secondary-text-color);
              }
          chips:
          - type: action
            tap_action:
              action: navigate
              navigation_path: /lovelace/0
            icon: mdi:cog
          - type: entity
            entity: sensor.temperature_apartment_avg
          - type: weather
            entity: weather.yr_weather_home
            show_temperature: true
            show_conditions: true
cards:
  - type: "custom:bootstrap-grid-card"
    #container_padding: 10px
    #use_hass_style_gutter: true
    #hass_style_gutter_size: "10px"
    cards:
    - type: row
      cards:
      # LEFT COLUMN SPACER
      - type: vertical-stack
        class: "col-md-1"
        cards:
        - type: custom:button-card
          color_type: blank_card
          styles:
            card:
            - background-color: transparent  
      # MAIN COLUMN CONTENT
      - type: vertical-stack
        class: "col-md-10"
        cards:
        # TOP VERTICAL SPACER
        - type: custom:button-card
          color_type: blank_card
          styles:
            card:
            - background-color: transparent
            - height: 10vh
        # SPEAKER + USER SELECT SECTION
        #- type: custom:stack-in-card
        #  mode: horizontal
        #  cards:
        #  - type: entities
        #    show_header_toggle: false
        #    entities:
        #      - entity: input_select.audio_speaker_select
        #        name: Speaker
        #        secondary_info: none
        #  - type: entities
        #    show_header_toggle: false
        #    entities:
        #      - entity: input_select.audio_user_select
        #        name: User content
            #card_mod:
            #  style: |
            #    ha-card {
            #      background-color: transparent !important;
            #    }
        - type: horizontal-stack
          cards: 
          - type: custom:mushroom-select-card
            entity: input_select.audio_speaker_select
            layout: horizontal
            icon_type: icon
            secondary_info: none
            primary_info: name
            name: Speaker
            icon_color: grey
          - type: custom:mushroom-select-card
            entity: input_select.audio_user_select
            layout: horizontal
            icon_type: icon
            secondary_info: none
            primary_info: name
            icon_color: grey
            name: User
        # MEDIA IMAGE + PLAYLIST SELECT SECTION
        - type: horizontal-stack
          cards:
          - type: custom:mini-media-player
            entity: media_player.sonos_living
            name: Sonos living room
            artwork: full-cover # cover, full-cover, material, full-cover-fit
            info: short  # default, short, scroll
            toggle_power: false
            background: /local/ui/sonos_living.jpg
            idle_view:
              when_idle: false
              when_paused: false
              when_standby: false
            hide:
              name: true
              icon: true
              info: true 
              power: true # No Sonos support. Always hide this.
              source: true
              sound_mode: true
              group_button: true
              controls: true
              jump: true
              volume: true
              volume_level: true
              mute: true
              progress: true
              runtime: true
              runtime_remaining: true
              artwork_border: false
              state_label: true
          - type: custom:sonos-card
            heightPercentage: 68.75
            # 75% = 420px
            # 70% = 392px
            title: ''
            sections:
            - media browser
            - grouping
            - volumes
            entityId: media_player.sonos_living
            entities:
            - media_player.sonos_living
            - media_player.sonos_move
            - media_player.sonos_kitchen
            predefinedGroups:
            - name: 'Fellesrom'
              volume: 10
              entities:
              - media_player.sonos_living
              - media_player.sonos_move
              - media_player.sonos_kitchen
            - name: 'Stue og kjøkken'
              volume: 10
              entities:
              - media_player.sonos_living
              - media_player.sonos_kitchen
            mediaBrowserTitle: ''
            hideBrowseMediaButton: true
            mediaBrowserItemsPerRow: 5
            favoritesToIgnore:
            - 'Wake Up Happy'
            topFavorites:
            - 'NRK P1'
            - 'NRK P3'
            - 'NRK P3X'
            - 'NRK Urørt'
            - 'NRK mP3'
            - 'Discover Weekly'
            - '31 PÅ 31'
            - 'Electronic Chill'
            - 'MEGALOMAN'
        - type: horizontal-stack
          cards:
          # AUDIO INFO, CONTROLS
          - type: custom:mini-media-player
            entity: media_player.sonos_living
            name: Sonos living room
            artwork: material # cover, full-cover, material, full-cover-fit
            volume_stateless: false
            #volume_step: 1
            #max_volume: 50
            #jump_amount: 15
            toggle_power: false
            idle_view:
              when_idle: false
              when_paused: false
              when_standby: false
            hide:
              name: true
              icon: true
              power: true # No Sonos support. Always hide this.
              group: true
              source: true
              mute: true
              progress: false
              runtime: true
              runtime_remaining: true
              shuffle: false
              state_label: true
              volume: true
            card_mod:
              style: |
                .cover {
                  opacity: 0 !important;
                }
          - type: custom:mini-media-player
            entity: media_player.sonos_living
            name: Sonos living room
            #icon: mdi:volume-high
            #artwork: material # cover, full-cover, material, full-cover-fit
            volume_step: 1
            max_volume: 50
            toggle_power: false
            #idle_view:
            #  when_idle: false
            #  when_paused: false
            #  when_standby: false
            hide:
              name: true
              icon: true
              info: true
              power: true # No Sonos support. Always hide this.
              group: true
              source: true
              controls: true
              mute: true
              progress: true
              runtime: true
              runtime_remaining: true
              state_label: true
              volume: false
              volume_level: false
      # RIGHT COLUMN SPACER
      - type: vertical-stack
        class: "col-md-1"
        cards:
        - type: custom:button-card
          color_type: blank_card
          styles:
            card:
            - background-color: transparent