all_lights_off:
  alias: 'All lights: Off'
  mode: single
  icon: mdi:lightbulb-group-outline
  sequence:
  - service: scene.turn_on
    target:
      entity_id: scene.kitchen_lights_off
    metadata: {}
  - delay: 00:00:01
  - service: scene.turn_on
    target:
      entity_id: scene.living_room_lights_off
    metadata: {}
  - delay: 00:00:01
  - service: scene.turn_on
    target:
      entity_id: scene.entry_lights_off
    metadata: {}
  - delay: 00:00:01
  - service: scene.turn_on
    target:
      entity_id: scene.bathroom_lights_off
    metadata: {}
  - service: scene.turn_on
    target:
      entity_id: scene.toilet_lights_off
    metadata: {}
  - delay: 00:00:01
  - service: scene.turn_on
    target:
      entity_id: scene.guestroom_lights_off
    metadata: {}
  - service: scene.turn_on
    target:
      entity_id: scene.office_lights_off
    metadata: {}
  - service: scene.turn_on
    target:
      entity_id: scene.bedroom_lights_off
    metadata: {}
  - service: scene.turn_on
    metadata: {}
    target:
      entity_id: scene.veranda_lights_off
all_lights_on:
  alias: 'All lights: On'
  mode: restart
  icon: mdi:lightbulb-group
  sequence:
  - service: light.turn_on
    data:
      brightness_pct: '{{ states(''input_number.apartment_dimmer'') | int }}'
    target:
      entity_id: light.downlights_entry
  - delay: 00:00:01
  - service: switch.turn_on
    data: {}
    target:
      entity_id: switch.lamp_globe_living
  - service: light.turn_on
    data:
      brightness_pct: '{{ states(''input_number.apartment_dimmer'') | int }}'
    target:
      entity_id: light.downlights_living
  - service: light.turn_on
    data:
      brightness_pct: '{{ states(''input_number.apartment_dimmer'') | int }}'
    target:
      entity_id: light.spottrack4_living
  - service: switch.turn_on
    data: {}
    target:
      entity_id: switch.lamp_mushroom_living
  - service: light.turn_on
    data:
      color_temp: 400
      brightness_pct: '{{ states(''input_number.apartment_dimmer'') | int }}'
    target:
      entity_id: light.mood_ball
  - delay: 00:00:01
  - service: light.turn_on
    data:
      brightness_pct: '{{ states(''input_number.apartment_dimmer'') | int }}'
    target:
      entity_id: light.pendants_living
  - service: light.turn_on
    data:
      brightness_pct: '{{ states(''input_number.apartment_dimmer'') | int }}'
    target:
      entity_id: light.pendants_kitchen
  - service: light.turn_on
    data:
      brightness_pct: '{{ states(''input_number.apartment_dimmer'') | int }}'
    target:
      entity_id: light.spottrack6_kitchen
  - service: light.turn_on
    data:
      brightness_pct: '{{ states(''input_number.apartment_dimmer'') | int }}'
    target:
      entity_id: light.downlights_bath
  - service: light.turn_on
    data:
      brightness_pct: '{{ states(''input_number.apartment_dimmer'') | int }}'
    target:
      entity_id: light.downlight_toilet
  - service: light.turn_on
    data:
      brightness_pct: '{{ states(''input_number.apartment_dimmer'') | int }}'
    target:
      entity_id: light.wall_lantern_veranda
calculate_risenoon:
  alias: Calculates RiseNoon-time
  mode: single
  icon: mdi:sun-angle
  sequence:
  - service: python_script.calculate_middle_time
    data:
      time1: '{{ states(''sensor.sun_next_rising'') }}'
      time2: '{{ states(''sensor.sun_next_noon'') }}'
      entity_id: input_datetime.risenoon
calculate_noonset:
  alias: Calculates NoonSet-time
  mode: single
  icon: mdi:sun-angle-outline
  sequence:
  - service: python_script.calculate_middle_time
    data:
      time1: '{{ states(''sensor.sun_next_noon'') }}'
      time2: '{{ states(''sensor.sun_next_setting'') }}'
      entity_id: input_datetime.noonset
bedtime_lights:
  alias: Bedtime-mode (Lights off)
  sequence:
  - service: scene.turn_on
    target:
      entity_id: scene.toilet_lights_off
    metadata: {}
  - service: scene.turn_on
    target:
      entity_id: scene.bathroom_lights_off
    metadata: {}
  - service: scene.turn_on
    target:
      entity_id: scene.office_lights_off
    metadata: {}
  - service: scene.turn_on
    target:
      entity_id: scene.entry_lights_off
    metadata: {}
  - service: scene.turn_on
    target:
      entity_id: scene.living_room_lights_off
    metadata: {}
  - service: scene.turn_on
    target:
      entity_id: scene.kitchen_lights_off
    metadata: {}
  mode: single
  icon: mdi:bed
select_floorplan_room:
  alias: Select floorplan room
  sequence:
  - service: input_text.set_value
    metadata: {}
    data:
      value: '{{ room_name }}'
    target:
      entity_id: input_text.floorplan_select_state
  mode: restart
  icon: mdi:gesture-tap-button
  fields:
    room_name:
      selector:
        text:
          multiple: false
      required: true
      name: Room name
      description: The name-ID of the room as text
deselect_floorplan_room:
  alias: De-select floorplan room
  sequence:
  - service: input_text.set_value
    metadata: {}
    data:
      value: none
    target:
      entity_id: input_text.floorplan_select_state
  mode: single
  icon: mdi:select-remove
storage_room_light_on_auto:
  alias: Storage room - Light on - Auto
  sequence:
  - service: timer.start
    metadata: {}
    data:
      duration: 00:03:00
    target:
      entity_id: timer.storage_room_light_timer
  - type: turn_on
    device_id: 0f0cf256bc675de29f236888b06ff677
    entity_id: fad54750e7aefa1a6178fdf5e8714bcc
    domain: light
  mode: single
  icon: mdi:lightbulb-auto
storage_room_light_on_manual:
  alias: Storage room - Light on - Manual
  sequence:
  - service: timer.start
    metadata: {}
    data:
      duration: 00:10:00
    target:
      entity_id: timer.storage_room_light_timer
  - type: turn_on
    device_id: 0f0cf256bc675de29f236888b06ff677
    entity_id: fad54750e7aefa1a6178fdf5e8714bcc
    domain: light
  mode: single
  icon: mdi:lightbulb
masterdim_script:
  alias: Masterdim script
  mode: single
  icon: mdi:brightness-7
  fields:
    light_entity:
      selector:
        entity: {}
      required: true
    brightness:
      selector:
        number:
          min: 1
          max: 100
      required: true
  sequence:
  - if:
    - condition: state
      entity_id: '{{ light_entity }}'
      state: 'on'
    then:
    - service: light.turn_on
      metadata: {}
      data:
        brightness_pct: 69
      target:
        entity_id: '{{ light_entity }}'
